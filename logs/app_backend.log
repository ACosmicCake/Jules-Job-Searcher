2025-05-29 18:53:20,546 - INFO - webapp.backend.main - main.<module>:43 - Successfully imported cv_parser.process_cv_from_config
2025-05-29 18:53:21,899 - INFO - webapp.backend.main - main.<module>:50 - Successfully imported scraper.run_scraping_and_storing
2025-05-29 18:53:21,904 - ERROR - fastapi - utils.ensure_multipart_is_installed:114 - Form data requires "python-multipart" to be installed. 
You can install "python-multipart" with: 

pip install python-multipart

2025-05-29 18:53:41,387 - INFO - webapp.backend.main - main.<module>:43 - Successfully imported cv_parser.process_cv_from_config
2025-05-29 18:53:42,518 - INFO - webapp.backend.main - main.<module>:50 - Successfully imported scraper.run_scraping_and_storing
2025-05-29 18:53:42,531 - INFO - __main__ - run_with_web_logging.<module>:26 - --- run_with_web_logging.py: Logging test script started ---
2025-05-29 18:53:42,531 - INFO - __main__ - run_with_web_logging.<module>:30 - Importing agent...
2025-05-29 18:53:42,532 - INFO - __main__ - run_with_web_logging.<module>:33 - Calling agent.run_job_search()...
2025-05-29 18:53:42,533 - INFO - agent - agent.run_job_search:35 - Agent: Job search process initiated via agent.
2025-05-29 18:53:42,533 - INFO - scraper - scraper.load_scraper_config:30 - Scraper: Configuration loaded successfully from '/app/config.json'.
2025-05-29 18:53:42,533 - INFO - agent - agent.run_job_search:42 - Agent: Scraper configuration loaded successfully.
2025-05-29 18:53:42,533 - INFO - scraper - scraper.run_scraping_and_storing:183 - Scraper: === Starting run_scraping_and_storing ===
2025-05-29 18:53:42,533 - ERROR - __main__ - run_with_web_logging.<module>:54 - An error occurred during the test execution: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "/app/run_with_web_logging.py", line 38, in <module>
    agent.run_job_search() # This will run the full job search, generating many logs
  File "/app/agent.py", line 46, in run_job_search
    scraper_summary = scraper.run_scraping_and_storing(scraper_config_data) # Pass config
  File "/app/scraper.py", line 192, in run_scraping_and_storing
    raw_jobs_df = fetch_raw_jobs(config)
  File "/app/scraper.py", line 134, in fetch_raw_jobs
    country_field = address.get('country', address.get('Country'))
AttributeError: 'str' object has no attribute 'get'
2025-05-29 18:53:42,534 - INFO - __main__ - run_with_web_logging.<module>:56 - --- run_with_web_logging.py: Logging test script finished ---
2025-05-29 18:54:01,829 - INFO - webapp.backend.main - main.<module>:43 - Successfully imported cv_parser.process_cv_from_config
2025-05-29 18:54:02,720 - INFO - webapp.backend.main - main.<module>:50 - Successfully imported scraper.run_scraping_and_storing
2025-05-29 18:54:02,733 - INFO - __main__ - run_with_web_logging.<module>:26 - --- run_with_web_logging.py: Logging test script started ---
2025-05-29 18:54:02,733 - INFO - __main__ - run_with_web_logging.<module>:30 - Importing agent...
2025-05-29 18:54:02,734 - INFO - __main__ - run_with_web_logging.<module>:33 - Calling agent.run_job_search()...
2025-05-29 18:54:02,734 - INFO - agent - agent.run_job_search:35 - Agent: Job search process initiated via agent.
2025-05-29 18:54:02,734 - INFO - scraper - scraper.load_scraper_config:30 - Scraper: Configuration loaded successfully from '/app/config.json'.
2025-05-29 18:54:02,735 - INFO - agent - agent.run_job_search:42 - Agent: Scraper configuration loaded successfully.
2025-05-29 18:54:02,735 - INFO - scraper - scraper.run_scraping_and_storing:183 - Scraper: === Starting run_scraping_and_storing ===
2025-05-29 18:54:02,735 - INFO - scraper - scraper.fetch_raw_jobs:140 - Scraper: Starting job search with JobSpy...
2025-05-29 18:54:02,735 - INFO - scraper - scraper.fetch_raw_jobs:141 -   Sites: ['indeed', 'linkedin', 'zip_recruiter', 'glassdoor']
2025-05-29 18:54:02,735 - INFO - scraper - scraper.fetch_raw_jobs:142 -   Search Term: Software Engineer
2025-05-29 18:54:02,735 - INFO - scraper - scraper.fetch_raw_jobs:143 -   Location: New York, NY
2025-05-29 18:54:02,735 - INFO - scraper - scraper.fetch_raw_jobs:144 -   Country for Indeed: USA
2025-05-29 18:54:04,293 - INFO - scraper - scraper.fetch_raw_jobs:157 - Scraper: Successfully fetched 20 raw job listings.
2025-05-29 18:54:04,294 - INFO - scraper - scraper.get_scraper_db_connection:46 - Scraper: Successfully connected to database '/app/job_listings.db'.
2025-05-29 18:54:04,304 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=74b4cd97e87a5c30): no such table: jobs
2025-05-29 18:54:04,304 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=d93d734fab76f93e): no such table: jobs
2025-05-29 18:54:04,304 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=6827ec446a1be989): no such table: jobs
2025-05-29 18:54:04,304 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=0de238b509c3e30a): no such table: jobs
2025-05-29 18:54:04,304 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=df3065edf7390fdf): no such table: jobs
2025-05-29 18:54:04,305 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=bda4c5277a39553d): no such table: jobs
2025-05-29 18:54:04,305 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=02ab1353f96f5ef4): no such table: jobs
2025-05-29 18:54:04,305 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=c88af11b681b4cca): no such table: jobs
2025-05-29 18:54:04,305 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=6ac2746bbcd3cd27): no such table: jobs
2025-05-29 18:54:04,305 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=d556f4667dcb9b7d): no such table: jobs
2025-05-29 18:54:04,305 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4239190559): no such table: jobs
2025-05-29 18:54:04,305 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4239707058): no such table: jobs
2025-05-29 18:54:04,305 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4239326019): no such table: jobs
2025-05-29 18:54:04,306 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4239121475): no such table: jobs
2025-05-29 18:54:04,306 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4238208519): no such table: jobs
2025-05-29 18:54:04,306 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4238708051): no such table: jobs
2025-05-29 18:54:04,306 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4237308415): no such table: jobs
2025-05-29 18:54:04,306 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4240167183): no such table: jobs
2025-05-29 18:54:04,306 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4240184395): no such table: jobs
2025-05-29 18:54:04,306 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4240149124): no such table: jobs
2025-05-29 18:54:04,306 - WARNING - scraper - scraper.store_jobs_in_db:104 - Scraper: Encountered 20 errors during job data processing/insertion.
2025-05-29 18:54:04,306 - INFO - scraper - scraper.store_jobs_in_db:107 - Scraper: Database update complete. New jobs added: 0. Duplicate/ignored jobs: 0.
2025-05-29 18:54:04,307 - INFO - scraper - scraper.run_scraping_and_storing:215 - Scraper: Scraping and storing process completed successfully.
2025-05-29 18:54:04,307 - INFO - scraper - scraper.run_scraping_and_storing:223 - Scraper: Database connection closed.
2025-05-29 18:54:04,307 - INFO - scraper - scraper.run_scraping_and_storing:225 - Scraper: === Finished run_scraping_and_storing. Summary: {'status': 'success', 'new_jobs_added': 0, 'total_jobs_processed_from_fetch': 20, 'duplicate_ignored_jobs': 0, 'errors': []} ===
2025-05-29 18:54:04,307 - INFO - agent - agent.run_job_search:48 - Agent: Scraper process finished. Summary: {'status': 'success', 'new_jobs_added': 0, 'total_jobs_processed_from_fetch': 20, 'duplicate_ignored_jobs': 0, 'errors': []}
2025-05-29 18:54:04,307 - INFO - __main__ - run_with_web_logging.<module>:40 - Simulating some other log messages from different modules...
2025-05-29 18:54:04,307 - ERROR - __main__ - run_with_web_logging.<module>:54 - An error occurred during the test execution: module 'agent' has no attribute 'cv_parser_imported'
Traceback (most recent call last):
  File "/app/run_with_web_logging.py", line 41, in <module>
    if agent.cv_parser_imported: # Check if cv_parser was imported by agent (it should be via main)
AttributeError: module 'agent' has no attribute 'cv_parser_imported'
2025-05-29 18:54:04,308 - INFO - __main__ - run_with_web_logging.<module>:56 - --- run_with_web_logging.py: Logging test script finished ---
2025-05-29 18:55:02,957 - INFO - webapp.backend.main - main.<module>:43 - Successfully imported cv_parser.process_cv_from_config
2025-05-29 18:55:04,318 - INFO - webapp.backend.main - main.<module>:50 - Successfully imported scraper.run_scraping_and_storing
2025-05-29 18:55:04,336 - INFO - __main__ - run_with_web_logging.<module>:26 - --- run_with_web_logging.py: Logging test script started ---
2025-05-29 18:55:04,336 - INFO - __main__ - run_with_web_logging.<module>:30 - Importing agent...
2025-05-29 18:55:04,339 - INFO - __main__ - run_with_web_logging.<module>:33 - Calling agent.run_job_search()...
2025-05-29 18:55:04,339 - INFO - agent - agent.run_job_search:35 - Agent: Job search process initiated via agent.
2025-05-29 18:55:04,340 - INFO - scraper - scraper.load_scraper_config:30 - Scraper: Configuration loaded successfully from '/app/config.json'.
2025-05-29 18:55:04,340 - INFO - agent - agent.run_job_search:42 - Agent: Scraper configuration loaded successfully.
2025-05-29 18:55:04,340 - INFO - scraper - scraper.run_scraping_and_storing:183 - Scraper: === Starting run_scraping_and_storing ===
2025-05-29 18:55:04,340 - INFO - scraper - scraper.fetch_raw_jobs:140 - Scraper: Starting job search with JobSpy...
2025-05-29 18:55:04,340 - INFO - scraper - scraper.fetch_raw_jobs:141 -   Sites: ['indeed', 'linkedin', 'zip_recruiter', 'glassdoor']
2025-05-29 18:55:04,340 - INFO - scraper - scraper.fetch_raw_jobs:142 -   Search Term: Software Engineer
2025-05-29 18:55:04,340 - INFO - scraper - scraper.fetch_raw_jobs:143 -   Location: New York, NY
2025-05-29 18:55:04,340 - INFO - scraper - scraper.fetch_raw_jobs:144 -   Country for Indeed: USA
2025-05-29 18:55:06,665 - INFO - scraper - scraper.fetch_raw_jobs:157 - Scraper: Successfully fetched 20 raw job listings.
2025-05-29 18:55:06,667 - INFO - scraper - scraper.get_scraper_db_connection:46 - Scraper: Successfully connected to database '/app/job_listings.db'.
2025-05-29 18:55:06,672 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=74b4cd97e87a5c30): no such table: jobs
2025-05-29 18:55:06,673 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=d93d734fab76f93e): no such table: jobs
2025-05-29 18:55:06,673 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=6827ec446a1be989): no such table: jobs
2025-05-29 18:55:06,673 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=0de238b509c3e30a): no such table: jobs
2025-05-29 18:55:06,673 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=df3065edf7390fdf): no such table: jobs
2025-05-29 18:55:06,674 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=bda4c5277a39553d): no such table: jobs
2025-05-29 18:55:06,674 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=02ab1353f96f5ef4): no such table: jobs
2025-05-29 18:55:06,674 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=c88af11b681b4cca): no such table: jobs
2025-05-29 18:55:06,674 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=6ac2746bbcd3cd27): no such table: jobs
2025-05-29 18:55:06,675 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.indeed.com/viewjob?jk=d556f4667dcb9b7d): no such table: jobs
2025-05-29 18:55:06,675 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4239190559): no such table: jobs
2025-05-29 18:55:06,675 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4239707058): no such table: jobs
2025-05-29 18:55:06,676 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4239326019): no such table: jobs
2025-05-29 18:55:06,676 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4239121475): no such table: jobs
2025-05-29 18:55:06,676 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4238208519): no such table: jobs
2025-05-29 18:55:06,676 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4238708051): no such table: jobs
2025-05-29 18:55:06,677 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4237308415): no such table: jobs
2025-05-29 18:55:06,677 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4240167183): no such table: jobs
2025-05-29 18:55:06,677 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4240184395): no such table: jobs
2025-05-29 18:55:06,677 - ERROR - scraper - scraper.store_jobs_in_db:97 - Scraper: Error inserting job (ID: https://www.linkedin.com/jobs/view/4240149124): no such table: jobs
2025-05-29 18:55:06,677 - WARNING - scraper - scraper.store_jobs_in_db:104 - Scraper: Encountered 20 errors during job data processing/insertion.
2025-05-29 18:55:06,678 - INFO - scraper - scraper.store_jobs_in_db:107 - Scraper: Database update complete. New jobs added: 0. Duplicate/ignored jobs: 0.
2025-05-29 18:55:06,678 - INFO - scraper - scraper.run_scraping_and_storing:215 - Scraper: Scraping and storing process completed successfully.
2025-05-29 18:55:06,678 - INFO - scraper - scraper.run_scraping_and_storing:223 - Scraper: Database connection closed.
2025-05-29 18:55:06,678 - INFO - scraper - scraper.run_scraping_and_storing:225 - Scraper: === Finished run_scraping_and_storing. Summary: {'status': 'success', 'new_jobs_added': 0, 'total_jobs_processed_from_fetch': 20, 'duplicate_ignored_jobs': 0, 'errors': []} ===
2025-05-29 18:55:06,678 - INFO - agent - agent.run_job_search:48 - Agent: Scraper process finished. Summary: {'status': 'success', 'new_jobs_added': 0, 'total_jobs_processed_from_fetch': 20, 'duplicate_ignored_jobs': 0, 'errors': []}
2025-05-29 18:55:06,679 - INFO - __main__ - run_with_web_logging.<module>:40 - Simulating some other log messages from different modules...
2025-05-29 18:55:06,679 - INFO - cv_parser - run_with_web_logging.<module>:48 - Direct test INFO message from cv_parser logger.
2025-05-29 18:55:06,679 - WARNING - cv_parser - run_with_web_logging.<module>:49 - Direct test WARNING message from cv_parser logger.
2025-05-29 18:55:06,679 - INFO - scraper - run_with_web_logging.<module>:52 - Direct test INFO message from scraper logger.
2025-05-29 18:55:06,679 - ERROR - scraper - run_with_web_logging.<module>:53 - Direct test ERROR message from scraper logger.
2025-05-29 18:55:06,679 - INFO - __main__ - run_with_web_logging.<module>:62 - --- run_with_web_logging.py: Logging test script finished ---
2025-05-29 18:55:22,698 - INFO - webapp.backend.main - main.<module>:43 - Successfully imported cv_parser.process_cv_from_config
2025-05-29 18:55:23,590 - INFO - webapp.backend.main - main.<module>:50 - Successfully imported scraper.run_scraping_and_storing
2025-05-29 18:55:23,603 - INFO - __main__ - run_with_web_logging.<module>:26 - --- run_with_web_logging.py: Logging test script started ---
2025-05-29 18:55:23,603 - INFO - __main__ - run_with_web_logging.<module>:30 - Importing agent...
2025-05-29 18:55:23,605 - INFO - __main__ - run_with_web_logging.<module>:33 - Calling agent.run_job_search()...
2025-05-29 18:55:23,605 - INFO - agent - agent.run_job_search:35 - Agent: Job search process initiated via agent.
2025-05-29 18:55:23,605 - INFO - scraper - scraper.load_scraper_config:30 - Scraper: Configuration loaded successfully from '/app/config.json'.
2025-05-29 18:55:23,605 - INFO - agent - agent.run_job_search:42 - Agent: Scraper configuration loaded successfully.
2025-05-29 18:55:23,605 - INFO - scraper - scraper.run_scraping_and_storing:183 - Scraper: === Starting run_scraping_and_storing ===
2025-05-29 18:55:23,605 - INFO - scraper - scraper.fetch_raw_jobs:140 - Scraper: Starting job search with JobSpy...
2025-05-29 18:55:23,605 - INFO - scraper - scraper.fetch_raw_jobs:141 -   Sites: ['indeed', 'linkedin', 'zip_recruiter', 'glassdoor']
2025-05-29 18:55:23,605 - INFO - scraper - scraper.fetch_raw_jobs:142 -   Search Term: Software Engineer
2025-05-29 18:55:23,605 - INFO - scraper - scraper.fetch_raw_jobs:143 -   Location: New York, NY
2025-05-29 18:55:23,606 - INFO - scraper - scraper.fetch_raw_jobs:144 -   Country for Indeed: USA
2025-05-29 18:55:25,136 - INFO - scraper - scraper.fetch_raw_jobs:157 - Scraper: Successfully fetched 20 raw job listings.
2025-05-29 18:55:25,137 - INFO - scraper - scraper.get_scraper_db_connection:46 - Scraper: Successfully connected to database '/app/job_listings.db'.
2025-05-29 18:55:25,146 - INFO - scraper - scraper.store_jobs_in_db:107 - Scraper: Database update complete. New jobs added: 10. Duplicate/ignored jobs: 10.
2025-05-29 18:55:25,146 - INFO - scraper - scraper.run_scraping_and_storing:215 - Scraper: Scraping and storing process completed successfully.
2025-05-29 18:55:25,146 - INFO - scraper - scraper.run_scraping_and_storing:223 - Scraper: Database connection closed.
2025-05-29 18:55:25,147 - INFO - scraper - scraper.run_scraping_and_storing:225 - Scraper: === Finished run_scraping_and_storing. Summary: {'status': 'success', 'new_jobs_added': 10, 'total_jobs_processed_from_fetch': 20, 'duplicate_ignored_jobs': 10, 'errors': []} ===
2025-05-29 18:55:25,147 - INFO - agent - agent.run_job_search:48 - Agent: Scraper process finished. Summary: {'status': 'success', 'new_jobs_added': 10, 'total_jobs_processed_from_fetch': 20, 'duplicate_ignored_jobs': 10, 'errors': []}
2025-05-29 18:55:25,147 - INFO - __main__ - run_with_web_logging.<module>:40 - Simulating some other log messages from different modules...
2025-05-29 18:55:25,147 - INFO - cv_parser - run_with_web_logging.<module>:48 - Direct test INFO message from cv_parser logger.
2025-05-29 18:55:25,147 - WARNING - cv_parser - run_with_web_logging.<module>:49 - Direct test WARNING message from cv_parser logger.
2025-05-29 18:55:25,147 - INFO - scraper - run_with_web_logging.<module>:52 - Direct test INFO message from scraper logger.
2025-05-29 18:55:25,147 - ERROR - scraper - run_with_web_logging.<module>:53 - Direct test ERROR message from scraper logger.
2025-05-29 18:55:25,147 - INFO - __main__ - run_with_web_logging.<module>:62 - --- run_with_web_logging.py: Logging test script finished ---
